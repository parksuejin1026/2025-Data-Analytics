# 📊 데이터 분석 및 시각화 핵심 요약 (Lecture 16, 17, 18)

이 문서는 인구 데이터 분석 및 Matplotlib 시각화에 대한 핵심 내용을 정리한 자료입니다.

## 1. 📂 인구 데이터 준비 및 처리

### 1.1 데이터 수집 및 파일 개요
* **데이터 출처**: 행정안전부 주민등록 인구통계
* **주요 파일**: `age.csv` (연령별 전체 인구), `gender.csv` (연령별 남/여 인구)
* **데이터 인덱스 (gender.csv 기준)**:
    * **지역명**: `row[0]`
    * **남성 연령별 인구 (0세~100세 이상)**: `row[3:104]`
    * **여성 연령별 인구 (0세~100세 이상)**: `row[106:207]`

### 1.2 데이터 처리 필수 기법
* **파일 읽기**: `import csv` 후 `f = open('filename.csv', encoding='cp949')` 사용
* **지역 검색**: 원하는 지역명이 포함된 행을 찾기 위해 `if '지역명' in row[0]:` 사용
* **데이터 타입 변환**: 인구수는 문자열 형태이므로 `int()`를 사용하여 정수로 변환해야 합니다.
* **데이터 정제 (콤마 제거)**: 인구수에 포함된 콤마(`,`) 때문에 `ValueError`가 발생할 수 있으므로, `replace()` 함수를 사용하여 콤마를 제거한 후 정수형으로 변환합니다.
    * 예시: `i = i.replace(',', '')`
* **반복문 종료**: 원하는 지역 데이터를 찾으면 `break` 문을 사용하여 불필요한 반복을 멈춥니다.

---

## 2. 📈 Matplotlib 시각화 함수 활용

### 2.1 연령별 인구 구조 시각화 (Line, Bar)
| 그래프 종류 | 함수 | 특징 |
| :--- | :--- | :--- |
| **선 그래프** | `plt.plot(result)` | 지역의 연령별 인구 변화 추이를 시각화합니다. |
| **수직 막대 그래프** | `plt.bar(range(len(result)), result)` | 연령별 인구수를 수직 막대로 표현합니다. |
| **수평 막대 그래프** | `plt.barh(range(len(result)), result)` | 연령별 인구수를 수평 막대로 표현합니다. (`barh()` 함수 사용) |

### 2.2 성별 인구 구조 및 비율 시각화

#### 항아리 모양 그래프 (인구 피라미드)
* **원리**: 남성 인구수를 **음수**로 변환하고, 여성 인구수를 양수로 변환하여 수평 막대 그래프(`plt.barh`)로 시각화합니다.
* **코드 핵심**: `male.append(-int(i.replace(',', '')))`

#### 성별 인구 비율 (원 그래프/Pie Chart)
* **함수**: `plt.pie(data, ...)`
* **주요 옵션**:
    * `labels`: 각 조각의 이름 (`['male', 'female']`)
    * `colors`: 색상 지정 (`['skyblue', 'pink']`)
    * `autopct`: 비율 표시 형식 (예: 소수점 첫째 자리까지 `'%.1f%%'`)
    * `startangle`: 시작 각도 지정 (예: `90`도)

---

## 3. 🟣 Matplotlib `scatter()` 함수 (산점도)

### 3.1 산점도의 기본 및 옵션
`plt.scatter(x, y, ...)`를 사용하여 두 변수 간의 관계를 시각화합니다.

| 인자 | 설명 | 기능 |
| :--- | :--- | :--- |
| `s` | **size**의 약자로, 점(버블)의 크기를 지정합니다. (버블 차트) | 크기 지정 |
| `c` | **color**의 약자로, 점의 색상을 지정하며, 데이터 배열을 넣어 컬러맵을 적용할 수 있습니다. | 색상 지정 |
| `marker` | 점의 모양을 지정합니다. (예: 's', 'o', '+') | 마커 모양 |
| `alpha` | 버블의 **투명도**를 설정합니다. 값의 범위는 **0(투명)부터 1(불투명)**까지입니다. | 투명도 설정 |

### 3.2 컬러바와 스타일 활용

* **컬러맵 (`cmap`)**: `scatter` 함수 내에서 `cmap='jet'`과 같이 지정하여 색상의 종류를 지정합니다.
* **컬러바 (`colorbar()`)**: `plt.colorbar()` 함수를 사용하여 그래프 오른쪽에 컬러바를 추가하여 데이터 값을 색상으로 표현합니다.
* **전체 스타일**: `plt.style.use('스타일명')` 함수를 사용하여 그래프 전체의 스타일을 지정할 수 있습니다. (예: `'ggplot'`, `'seaborn-v0_8'`, `'default'`)